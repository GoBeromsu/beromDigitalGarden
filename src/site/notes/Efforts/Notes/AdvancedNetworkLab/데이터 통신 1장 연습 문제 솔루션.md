---
{"tags":["연구실","네트워크통신","CS/네트워크"],"aliases":null,"link":null,"up":null,"persona":null,"index":null,"related":null,"date_created":"2024-04-03","date_modified":"2024-04-03","dg-publish":true,"permalink":"/efforts/notes/advanced-network-lab/1/","dgPassFrontmatter":true,"noteIcon":"1","created":"2024-04-03T09:10:09.343+09:00","updated":"2024-04-03T22:21:52.271+09:00"}
---

# 데이터 통신 1장 연습 문제 솔루션
- 7판 기준 문제 풀이입니다 혹여 수치가 다른 경우 수식이 제대로 적용 되었다면 정답 처리하겠습니다

## 3. 일정한 속도로 데이터를 전송하는 응용을 생각해보자
>송신자가 매 K 시간 단위마다 N-비트 단위의 데이터를 생성한다. K는 작고 고정된 값이다. 또한, 그러한 응용이 시작되면 상당히 긴 시간 동안 계속해서 수행된다. 다음 질문들에 답하고 간략히 답에 대한 당위성을 설명하라.

### a. 패킷 교환 네트워크 혹은 회선 교환 네트워크 중 어느 것이 이 응용에 더 적절한가? 그 이유는?
이 응용에는 회선 교환 네트워크가 더 적절할 것입니다. 이는 응용이 예측 가능하고 매끄러운 대역폭 요구를 가지고 있기 때문입니다. 또한 전송 속도가 알려져 있고 버스트가 아니기 때문에 각 응용 프로그램 세션에 대한 대역폭을 예약할 수 있고 중요한 낭비 없이 수행될 수 있습니다. 또한 연결 설정 및 해제에 대한 오버헤드 비용이 일반적인 응용 프로그램 세션의 긴 기간 동안 분할 상환됩니다.

### b. 패킷 교환 네트워크를 사용하고 이 네트워크상의 유일한 트래픽이 위에 기술된 것 같은 응용들로부터 온다고 가정하자. 더 나아가 이 응용 데이터 속도의 합이 각 그리고 모든 링크의 용량보다 작다고 가정하자. 어떤 형태의 혼잡제어가 필요한가? 그 이유는?

이 경우에는 혼잡제어가 필요하지 않습니다. 이유는 응용 데이터 속도의 합이 모든 링크의 용량보다 작기 때문에 네트워크 내에서 혼잡이 발생하지 않습니다. 각 응용은 일정한 속도로 데이터를 생성하고, 이 데이터를 네트워크가 처리할 수 있는 용량 내에서 전송할 수 있습니다. 따라서, 혼잡제어 메커니즘이 필요하지 않습니다.

## 4. P4, 그림 1.13의 회선 교환 네트워크를 고려하라. 
>각 링크에 4개의 회선이 있음을 상기하라. 시계방향으로 4개의 교환기를 A, B, C 그리고 D라고 하자.

![](https://i.imgur.com/B8GuJPs.png)

### a. 이 네트워크에서 어느 한순간에 진행 중인 동시 연결의 최대 수는 몇인가?

왼쪽 상단 교환기와 오른쪽 상단 교환기 사이에는 4개의 연결이 가능합니다. 마찬가지로 다른 3개의 인접한 교환기 쌍 사이에서도 각각 4개의 연결이 가능합니다. 따라서 이 네트워크는 최대 16개의 연결을 지원할 수 있습니다.

### b. 모든 연결은 A 교환기와 C 교환기 사이에 있다고 가정하자. 진행 중일 수 있는 동시 연결의 최대 수는 몇인가?

오른쪽 상단 모서리 교환기를 통과하는 4개의 연결과 왼쪽 하단 모서리 교환기를 통과하는 4개의 연결이 가능하므로, 총 8개의 연결이 가능합니다.

### c. 교환기 A와 C 사이에 4개의 연결, 교환기 B와 D 사이에 4개의 또 다른 연결을 하기 원한다고 가정하자. 8개의 모든 연결을 수용하기 위해 이들 호(call)를 4개의 링크를 통해 라우팅할 수 있는가?

예. A와 C 사이의 연결 4개 중 2개는 B를 통해 라우팅하고 나머지 2개는 D를 통해 라우팅합니다. B와 D 사이의 연결 4개 중 2개는 A를 통해 라우팅하고 나머지 2개는 C를 통해 라우팅합니다. 이렇게 하면 각 링크에서 최대 4개의 연결만 지나가면서 8개의 연결을 수용 할 수 있습니다
## 6 이 기초 문제는 데이터 네트워킹에서의 두 중요 개념인 전파 지연과 전송 지연을 탐구하는 것이다. 
>전송속도가 R bps인 단일 링크로 연결된 호스트 A와 호스트 B를 생각하자. 두 호스트는 m미터 떨어져 있고 링크 사이의 전파속도가 s = 2.5×10^8 m/s라고 하자. 그리고 호스트 A가 호스트 B에게 크기가 L 비트인 패킷을 보낸다고 하자.

- a. m과 s를 이용하여 전파 지연 d_prop를 표현하라.
	- 전파 지연 d_prop = m/s
	- 전파 지연은 신호가 송신자로부터 수신자까지 전파되는 데 걸리는 시간

- b. L과 R을 이용하여 패킷의 전송 시간 d_trans를 결정하라.
	- 전송 시간 d_trans = L/R
	- 이는 패킷이 송신자로부터 수신자까지 전송되기 위해 필요한 시간을 나타냅니다. 전송 속도(R)가 높을수록 전송 시간은 감소합니다, 반면 데이터 크기(L)가 클수록 전송 시간은 증가합니다

- c. 처리 지연과 큐잉 지연은 무시하고 종단간의 지연에 대한 수식을 구하라.
	- 종단간 지연 = d_prop + d_trans = m/s + L/R
	- 종단간 지연은 전파 지연과 전송 지연을 모두 포함하는 총 지연 시간입니다. 이는 데이터 패킷이 송신자로부터 수신자까지 도달하는 데 걸리는 전체 시간을 의미합니다. 처리 지연과 큐잉 지연을 무시할 때, 이 두 지연의 합은 전체 지연 시간을 나타냅니다

- d. 호스트 A가 t=0 시간에 패킷 전송을 시작한다고 하자. t=d_trans 시간에 패킷의 마지막 비트는 어디에 있는가?
	- t=d_trans 시간에 패킷의 마지막 비트는 링크 위에 있습니다.
	- 전송 시간(d_trans)이 경과했을 때, 패킷의 마지막 비트는 링크 상에서 송신자로부터 방금 전송을 완료했습니다. 이 시점에서 패킷의 나머지 부분은 전파 지연을 겪으며 수신자에게 전달되고 있습니다

- e. d_prop가 d_trans 보다 크다고 하자. t=d_trans 시간에 패킷의 처음 비트는 어디에 있는가?
	- d_prop > d_trans 인 경우, t=d_trans 시간에 패킷의 처음 비트는 아직 전송 중이며 Host B에 도착하지 않았습니다.
	- 전파 지연이 전송 시간보다 큰 경우, 전송 시간이 완료되었을 때 패킷의 처음 비트는 아직 수신자에게 도달하지 않았습니다. 이는 전파 지연이 더 길기 때문에, 패킷이 완전히 전달되기 위해서는 더 많은 시간이 필요함을 의미합니다

- f. d_prop가 d_trans 보다 작다고 하자. t=d_trans 시간에 패킷의 처음 비트는 어디에 있는가?
	- d_prop < d_trans 인 경우, t=d_trans 시간에 패킷의 처음 비트는 이미 호스트 B에 도착했습니다.
	- 전파 지연이 전송 시간보다 작은 경우, 전송 시간이 끝나는 시점에 패킷의 처음 비트는 이미 수신자에게 도달했습니다. 이는 패킷의 나머지 부분이 여전히 전송되고 있음에도 불구하고, 패킷의 일부가 이미 목적지에 도착했음을 나타냅니다.

- g. s=2.5×10^8, L=120비트, R=56kbps라고 하자. d_prop와 d_trans를 같게 하는 거리 m을 찾아라.
	- d_prop = m/s 
	- d_trans = L/R = 120비트 / 56000비트/초 = 0.002142857초
	- m/s = 0.002142857
	- m = 0.002142857 * 2.5×10^8 = 약 536km

## 7. 패킷 교환 네트워크를 통해서 호스트 A로부터 호스트 B로 음성을 보낸다고 하자(VoIP). 
>호스트 A가 아날로그 음성을 디지털 64 kbps 스트림으로 변환한다. 그리고 비트들을 56바이트 패킷으로 그룹 짓는다. 호스트 A와 호스트 B 사이에 하나의 링크가 있다. 전송속도는 2 Mbps이고 전파 지연은 10 msec이다. 호스트 A가 패킷을 만듦자마자 호스트 B로 보낸다. 호스트 B가 전체 패킷을 받자마자, 패킷 비트를 아날로그 신호로 변환한다. (호스트 A의 원래 아날로그 신호로부터) 한 비트가 만들어져서 (호스트 B에서 아날로그 신호의 일부로서) 7 비트가 해독될 때까지의 소요 시간은 얼마인가? 두 번째 비트에 대해서는 어떠한가? 다른 비트들에 대해서는 어떠한가?

첫 번째 비트를 전송하기 전에 패킷의 모든 비트가 생성되어야 한다. 이에 필요한 시간은

$$ 56 * 8 / (64 * 10^3) = 7msec $$

패킷 전송 시간은 

$$ 56 * 8 / (2 * 10^6) = 224 msec$$

전파 지연은 10 밀리초이다. 따라서 해독까지의 지연은 

$$ 7  + 224 + 10 = 17.224 msec$$

모든 비트에 대해 17.224msec 의 지연이 발생함을 알 수 있다.

## 8. 사용자가 3 Mbps 링크를 공유한다. 
>그리고 각 사용자는 전송할 때 150 kbps가 필요하다. 그러나 각 사용자는 그 시간의 10%만 전송할 수 있다(1.3절에 있는패킷 교환 대 회선 교환 논의 참조).

### a. 회선 교환이 사용될 때 얼마나 많은 사용자를 지원할 수 있는가?

링크 전송률이 3 Mbps = 3000 kbps이고, 각 사용자가 150 kbps를 필요로 하므로, 최대 3000 / 150 = 20명의 사용자를 지원할 수 있습니다.

### b. 나머지 문제에서 패킷 교환이 이용된다고 하자. 선택된 사용자가 전송하고 있을 확률을 찾아라.

각 사용자가 시간의 10%만 전송한다고 했으므로, 선택된 사용자가 전송하고 있을 확률 p = 0.1입니다.

### C. 120명의 사용자가 있다고 하자. 어느 주어진 시간에 명의 사용자가 동시에 전송하고 있을 확률을 찾아라(힌트: [이항 분포](https://ko.wikipedia.org/wiki/%EC%9D%B4%ED%95%AD_%EB%B6%84%ED%8F%AC)를 사용하라).


$$P(X = k) = _nC_k p^k (1-p)^{n-k}$$문제에서 주어진 환경을 이 공식에 적용하면, 120명의 사용자가 있고, 각 사용자가 전송을 시작할 확률이 0.1인 경우, 정확히 k명의 사용자가 동시에 전송을 시작할 확률을 다음과 같이 계산할 수 있습니다 
$$= _{120}C_k (0.1)^k (0.9)^{120-k}$$


### d. 21명 이상의 사용자가 동시에 전송할 확률을 찾아라.

문제 d를 풀기 위해서는, 21명 이상의 사용자가 동시에 전송할 확률을 계산해야 합니다. 이는 "최소 21명이 동시에 전송하는 확률"을 의미하며, 이를 계산하는 일반적인 방법은 모든 가능한 경우의 확률을 합하는 것입니다. 그러나, 계산을 용이하게 하기 위해 여기서는 "1 - (20명 이하가 동시에 전송할 확률)"을 사용합니다.

이 경우, \( n = 120 \), \( p = 0.1 \), 그리고 \( k \)는 0부터 20까지의 값을 가집니다.

따라서, 21명 이상의 사용자가 동시에 전송할 확률은 다음과 같이 계산할 수 있습니다:

$$P(X \geq 21) = 1 - \sum_{k=0}^{20} \binom{120}{k} (0.1)^k (0.9)^{120-k}$$


## 18. 하루 중 다른 세 번의 시간에 같은 대륙에 있는 출발지와 목적지 사이에서 Traccroute를 실행하라.
- [[Efforts/Notes/AdvancedNetworkLab/데이터 통신 질의 응답 - traceroute\|데이터 통신 질의 응답 - traceroute]]

## 25 호스트 A와 B가 20,000 km 떨어져 있고 R= 2 Mbps 링크가 직접 연결되었다고 하자. 
>이 링크에서의 전파속도는 2.5 × 10^8 m/s라고 하자.

### a. 대역폭과 지연 곱 R×d_prop를 계산하라.

d_prop = 거리/전파속도 
     = 20,000 km / (2.5 × 10^8 m/s)
     = 20,000 × 10^3 m / (2.5 × 10^8 m/s)
     = 0.08 초

R × d_prop = 2 Mbps × 0.08 초 
          = 160,000 비트

### b. 호스트 A에서 호스트 B로 800,000비트의 파일을 보낸다고 생각해 보자. 파일을 하나의 커다란 메시지 형태로 계속 보낸다고 가정하자. 어느 주어진 시간에 링크에 있을 최대 비트의 수를 구하라.

최대 비트 수 = 대역폭 × 지연 = 160,000 비트

### c. 대역폭과 지연 곱을 어떻게 해석하는가?

대역폭과 지연 곱은 주어진 시간에 링크에 있을 수 있는 최대 비트 수를 나타낸다. 

### d. 링크에 있는 한 비트의 넓이(미터)는 얼마인가? 축구 경기장보다 긴가?

링크 길이 = 20,000 km = 20,000,000 m
한 비트 넓이 = 링크 길이 / 최대 비트 수
            = 20,000,000 m / 160,000 비트
            = 125 m

일반적인 축구 경기장 길이는 100~110m 이므로, 한 비트의 넓이는 축구경기장 길이보다 길다.

### e. 전파속도 s, 전송률 R, 링크의 길이 m을 이용하여 한 비트의 넓이에 대한 일반식을 유도하라.

d_prop = m/s  (전파지연)
R × d_prop = 최대 비트 수  
한 비트 넓이 = 링크 길이 / 최대 비트 수
           = m / (R × d_prop) 
           = m / (R × m/s)
           = s/R